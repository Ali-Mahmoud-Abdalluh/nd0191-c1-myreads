{"ast":null,"code":"import _slicedToArray from\"/home/kali/Documents/reactProject/nd0191-c1-myreads/starter/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import{Link}from\"react-router-dom\";import Shelf from\"./Shelf\";import{useEffect,useState}from\"react\";import*as BooksAPI from\"../BooksAPI.js\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var MainPage=function MainPage(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),shelves=_useState2[0],setShelves=_useState2[1];function updateScreen(){BooksAPI.getAll().then(function(books){var shelvesArr=Array.from(new Set(books.map(function(book){return book.shelf;})));var bookShelvesArr=[];shelvesArr.forEach(function(shelf){var obj={};obj[shelf]=books.filter(function(book){return book.shelf===shelf;});bookShelvesArr.push(obj);});setShelves(bookShelvesArr);}).catch(function(error){return console.log(error);});}useEffect(function(){BooksAPI.getAll().then(function(books){var shelvesArr=Array.from(new Set(books.map(function(book){return book.shelf;})));var bookShelvesArr=[];shelvesArr.forEach(function(shelf){var obj={};obj[shelf]=books.filter(function(book){return book.shelf===shelf;});bookShelvesArr.push(obj);});setShelves(bookShelvesArr);}).catch(function(error){return console.log(error);});},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"list-books\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"list-books-title\",children:/*#__PURE__*/_jsx(\"h1\",{children:\"MyReads\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"list-books-content\",children:/*#__PURE__*/_jsx(\"div\",{children:shelves.map(function(shelf,i){return/*#__PURE__*/_jsx(Shelf,{books:Object.values(shelf)[0],shelfTitle:Object.keys(shelf)[0],updateScreen:updateScreen},i);})})}),/*#__PURE__*/_jsx(\"div\",{className:\"open-search\",children:/*#__PURE__*/_jsx(Link,{to:\"/search\",children:\"Add a book\"})})]});};export default MainPage;","map":{"version":3,"names":["React","Link","Shelf","useEffect","useState","BooksAPI","MainPage","shelves","setShelves","updateScreen","getAll","then","books","shelvesArr","Array","from","Set","map","book","shelf","bookShelvesArr","forEach","obj","filter","push","catch","error","console","log","i","Object","values","keys"],"sources":["/home/kali/Documents/reactProject/nd0191-c1-myreads/starter/src/components/mainPage.js"],"sourcesContent":["import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport Shelf from \"./Shelf\";\nimport { useEffect , useState} from \"react\";\nimport * as BooksAPI from \"../BooksAPI.js\";\n\n\nconst MainPage = () => {\n  const [shelves, setShelves] = useState([]);\n\n\n  function updateScreen (){\n    BooksAPI.getAll()\n      .then((books) => {\n        const shelvesArr = Array.from(new Set(books.map((book) => book.shelf)));\n        const bookShelvesArr = [];\n        shelvesArr.forEach((shelf) => {\n          var obj = {};\n          obj[shelf] = books.filter((book) => book.shelf === shelf);\n          bookShelvesArr.push(obj);\n        });\n        setShelves(bookShelvesArr);\n      })\n      .catch((error) => console.log(error));\n  }\n\n\n  useEffect(() => {\n    BooksAPI.getAll()\n      .then((books) => {\n        const shelvesArr = Array.from(new Set(books.map((book) => book.shelf)));\n        const bookShelvesArr = [];\n        shelvesArr.forEach((shelf) => {\n          var obj = {};\n          obj[shelf] = books.filter((book) => book.shelf === shelf);\n          bookShelvesArr.push(obj);\n        });\n        setShelves(bookShelvesArr);\n      })\n      .catch((error) => console.log(error));\n  }, []);\n\n  \n  return (\n    <div className=\"list-books\">\n      <div className=\"list-books-title\">\n        <h1>MyReads</h1>\n      </div>\n      <div className=\"list-books-content\">\n        <div>\n          {shelves.map((shelf, i) => (\n            <Shelf\n              key={i}\n              books={Object.values(shelf)[0]}\n              shelfTitle={Object.keys(shelf)[0]}\n              updateScreen={updateScreen}\n            />\n          ))}\n        </div>\n      </div>\n      <div className=\"open-search\">\n        <Link to=\"/search\">Add a book</Link>\n      </div>\n    </div>\n  );\n};\n\nexport default MainPage;\n"],"mappings":"iJAAA,MAAOA,MAAP,KAAkB,OAAlB,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,MAAOC,MAAP,KAAkB,SAAlB,CACA,OAASC,SAAT,CAAqBC,QAArB,KAAoC,OAApC,CACA,MAAO,GAAKC,SAAZ,KAA0B,gBAA1B,C,wFAGA,GAAMC,SAAQ,CAAG,QAAXA,SAAW,EAAM,CACrB,cAA8BF,QAAQ,CAAC,EAAD,CAAtC,wCAAOG,OAAP,eAAgBC,UAAhB,eAGA,QAASC,aAAT,EAAwB,CACtBJ,QAAQ,CAACK,MAAT,GACGC,IADH,CACQ,SAACC,KAAD,CAAW,CACf,GAAMC,WAAU,CAAGC,KAAK,CAACC,IAAN,CAAW,GAAIC,IAAJ,CAAQJ,KAAK,CAACK,GAAN,CAAU,SAACC,IAAD,QAAUA,KAAI,CAACC,KAAf,EAAV,CAAR,CAAX,CAAnB,CACA,GAAMC,eAAc,CAAG,EAAvB,CACAP,UAAU,CAACQ,OAAX,CAAmB,SAACF,KAAD,CAAW,CAC5B,GAAIG,IAAG,CAAG,EAAV,CACAA,GAAG,CAACH,KAAD,CAAH,CAAaP,KAAK,CAACW,MAAN,CAAa,SAACL,IAAD,QAAUA,KAAI,CAACC,KAAL,GAAeA,KAAzB,EAAb,CAAb,CACAC,cAAc,CAACI,IAAf,CAAoBF,GAApB,EACD,CAJD,EAKAd,UAAU,CAACY,cAAD,CAAV,CACD,CAVH,EAWGK,KAXH,CAWS,SAACC,KAAD,QAAWC,QAAO,CAACC,GAAR,CAAYF,KAAZ,CAAX,EAXT,EAYD,CAGDvB,SAAS,CAAC,UAAM,CACdE,QAAQ,CAACK,MAAT,GACGC,IADH,CACQ,SAACC,KAAD,CAAW,CACf,GAAMC,WAAU,CAAGC,KAAK,CAACC,IAAN,CAAW,GAAIC,IAAJ,CAAQJ,KAAK,CAACK,GAAN,CAAU,SAACC,IAAD,QAAUA,KAAI,CAACC,KAAf,EAAV,CAAR,CAAX,CAAnB,CACA,GAAMC,eAAc,CAAG,EAAvB,CACAP,UAAU,CAACQ,OAAX,CAAmB,SAACF,KAAD,CAAW,CAC5B,GAAIG,IAAG,CAAG,EAAV,CACAA,GAAG,CAACH,KAAD,CAAH,CAAaP,KAAK,CAACW,MAAN,CAAa,SAACL,IAAD,QAAUA,KAAI,CAACC,KAAL,GAAeA,KAAzB,EAAb,CAAb,CACAC,cAAc,CAACI,IAAf,CAAoBF,GAApB,EACD,CAJD,EAKAd,UAAU,CAACY,cAAD,CAAV,CACD,CAVH,EAWGK,KAXH,CAWS,SAACC,KAAD,QAAWC,QAAO,CAACC,GAAR,CAAYF,KAAZ,CAAX,EAXT,EAYD,CAbQ,CAaN,EAbM,CAAT,CAgBA,mBACE,aAAK,SAAS,CAAC,YAAf,wBACE,YAAK,SAAS,CAAC,kBAAf,uBACE,+BADF,EADF,cAIE,YAAK,SAAS,CAAC,oBAAf,uBACE,qBACGnB,OAAO,CAACU,GAAR,CAAY,SAACE,KAAD,CAAQU,CAAR,qBACX,KAAC,KAAD,EAEE,KAAK,CAAEC,MAAM,CAACC,MAAP,CAAcZ,KAAd,EAAqB,CAArB,CAFT,CAGE,UAAU,CAAEW,MAAM,CAACE,IAAP,CAAYb,KAAZ,EAAmB,CAAnB,CAHd,CAIE,YAAY,CAAEV,YAJhB,EACOoB,CADP,CADW,EAAZ,CADH,EADF,EAJF,cAgBE,YAAK,SAAS,CAAC,aAAf,uBACE,KAAC,IAAD,EAAM,EAAE,CAAC,SAAT,wBADF,EAhBF,GADF,CAsBD,CA1DD,CA4DA,cAAevB,SAAf"},"metadata":{},"sourceType":"module"}