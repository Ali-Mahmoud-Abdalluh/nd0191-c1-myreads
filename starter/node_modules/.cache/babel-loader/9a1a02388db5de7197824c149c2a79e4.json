{"ast":null,"code":"import { data } from \"autoprefixer\";\nconst api = \"https://reactnd-books-api.udacity.com\";\nlet token = localStorage.token;\nif (!token) token = localStorage.token = Math.random().toString(36).substr(-8);\nconst headers = {\n  Accept: \"application/json\",\n  Authorization: token\n};\nexport const get = bookId => fetch(`${api}/books/${bookId}`, {\n  headers\n}).then(res => res.json()).then(data => data.book);\nexport const getAll = () => fetch(`${api}/books`, {\n  headers\n}).then(res => res.json()).then(data => data.books);\nexport const update = (book, shelf) => fetch(`${api}/books/${book.id}`, {\n  method: \"PUT\",\n  headers: { ...headers,\n    \"Content-Type\": \"application/json\"\n  },\n  body: JSON.stringify({\n    shelf\n  })\n}).then(res => res.json());\nexport const search = (query, maxResults) => fetch(`${api}/search`, {\n  method: \"POST\",\n  headers: { ...headers,\n    \"Content-Type\": \"application/json\"\n  },\n  body: JSON.stringify({\n    query,\n    maxResults\n  })\n}).then(res => {\n  try {\n    return res.json();\n  } catch (error) {\n    console.log(error);\n    ;\n  }\n}).then(data => data.books);","map":{"version":3,"names":["data","api","token","localStorage","Math","random","toString","substr","headers","Accept","Authorization","get","bookId","fetch","then","res","json","book","getAll","books","update","shelf","id","method","body","JSON","stringify","search","query","maxResults","error","console","log"],"sources":["/home/kali/Documents/reactProject/nd0191-c1-myreads/starter/src/BooksAPI.js"],"sourcesContent":["import { data } from \"autoprefixer\";\n\nconst api = \"https://reactnd-books-api.udacity.com\";\n\nlet token = localStorage.token;\n\nif (!token) token = localStorage.token = Math.random().toString(36).substr(-8);\n\nconst headers = {\n  Accept: \"application/json\",\n  Authorization: token,\n};\n\nexport const get = (bookId) =>\n  fetch(`${api}/books/${bookId}`, { headers })\n    .then((res) => res.json())\n    .then((data) => data.book);\n\nexport const getAll = () =>\n  fetch(`${api}/books`, { headers })\n    .then((res) => res.json())\n    .then((data) => data.books);\n\nexport const update = (book, shelf) =>\n  fetch(`${api}/books/${book.id}`, {\n    method: \"PUT\",\n    headers: {\n      ...headers,\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify({ shelf }),\n  }).then((res) => res.json());\n\nexport const search = (query, maxResults) =>\n  fetch(`${api}/search`, {\n    method: \"POST\",\n    headers: {\n      ...headers,\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify({ query, maxResults }),\n  })\n    .then((res) => {\n      try{\n        return res.json();\n      }catch(error){\n        console.log(error);;\n      }\n    })\n    .then((data) => data.books);\n"],"mappings":"AAAA,SAASA,IAAT,QAAqB,cAArB;AAEA,MAAMC,GAAG,GAAG,uCAAZ;AAEA,IAAIC,KAAK,GAAGC,YAAY,CAACD,KAAzB;AAEA,IAAI,CAACA,KAAL,EAAYA,KAAK,GAAGC,YAAY,CAACD,KAAb,GAAqBE,IAAI,CAACC,MAAL,GAAcC,QAAd,CAAuB,EAAvB,EAA2BC,MAA3B,CAAkC,CAAC,CAAnC,CAA7B;AAEZ,MAAMC,OAAO,GAAG;EACdC,MAAM,EAAE,kBADM;EAEdC,aAAa,EAAER;AAFD,CAAhB;AAKA,OAAO,MAAMS,GAAG,GAAIC,MAAD,IACjBC,KAAK,CAAE,GAAEZ,GAAI,UAASW,MAAO,EAAxB,EAA2B;EAAEJ;AAAF,CAA3B,CAAL,CACGM,IADH,CACSC,GAAD,IAASA,GAAG,CAACC,IAAJ,EADjB,EAEGF,IAFH,CAESd,IAAD,IAAUA,IAAI,CAACiB,IAFvB,CADK;AAKP,OAAO,MAAMC,MAAM,GAAG,MACpBL,KAAK,CAAE,GAAEZ,GAAI,QAAR,EAAiB;EAAEO;AAAF,CAAjB,CAAL,CACGM,IADH,CACSC,GAAD,IAASA,GAAG,CAACC,IAAJ,EADjB,EAEGF,IAFH,CAESd,IAAD,IAAUA,IAAI,CAACmB,KAFvB,CADK;AAKP,OAAO,MAAMC,MAAM,GAAG,CAACH,IAAD,EAAOI,KAAP,KACpBR,KAAK,CAAE,GAAEZ,GAAI,UAASgB,IAAI,CAACK,EAAG,EAAzB,EAA4B;EAC/BC,MAAM,EAAE,KADuB;EAE/Bf,OAAO,EAAE,EACP,GAAGA,OADI;IAEP,gBAAgB;EAFT,CAFsB;EAM/BgB,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;IAAEL;EAAF,CAAf;AANyB,CAA5B,CAAL,CAOGP,IAPH,CAOSC,GAAD,IAASA,GAAG,CAACC,IAAJ,EAPjB,CADK;AAUP,OAAO,MAAMW,MAAM,GAAG,CAACC,KAAD,EAAQC,UAAR,KACpBhB,KAAK,CAAE,GAAEZ,GAAI,SAAR,EAAkB;EACrBsB,MAAM,EAAE,MADa;EAErBf,OAAO,EAAE,EACP,GAAGA,OADI;IAEP,gBAAgB;EAFT,CAFY;EAMrBgB,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;IAAEE,KAAF;IAASC;EAAT,CAAf;AANe,CAAlB,CAAL,CAQGf,IARH,CAQSC,GAAD,IAAS;EACb,IAAG;IACD,OAAOA,GAAG,CAACC,IAAJ,EAAP;EACD,CAFD,CAEC,OAAMc,KAAN,EAAY;IACXC,OAAO,CAACC,GAAR,CAAYF,KAAZ;IAAmB;EACpB;AACF,CAdH,EAeGhB,IAfH,CAeSd,IAAD,IAAUA,IAAI,CAACmB,KAfvB,CADK"},"metadata":{},"sourceType":"module"}